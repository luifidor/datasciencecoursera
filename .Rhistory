nrow(bidlines)
nrow(bidline)
levels(factor(bidline$bid_id))
bid_ids <- levels(factor(bidline$bid_id))
levels(bidline$offer_type)
bid_ids <- levels(factor(bidline$bid_id))
for (id in bid_ids) {
b <- subset(bidline, bid_id == id)
for (i in 1:nrow(b)) {
if (tolower(b[i, ]$offer_type) == "inc" ) {
inc <- rbind(inc, b[i, ])
} else if (tolower(b[i, ]$offer_type) == "offer") {
offer <- rbind(offer, b[i, ])
}
}
}
append_row <- function(vector, row) {
if (is.null(vector)) {
vector <- row
} else {
rbind(vector, row)
}
}
append_row <- function(vector, row) {
if (is.null(vector)) {
vector <- row
} else {
rbind(vector, row)
}
}
bid_ids <- levels(factor(bidline$bid_id))
for (id in bid_ids) {
b <- subset(bidline, bid_id == id)
for (i in 1:nrow(b)) {
if (tolower(b[i, ]$offer_type) == "inc" ) {
inc <- append_row(inc, b[i, ])
} else if (tolower(b[i, ]$offer_type) == "offer") {
offer <- append_row(offer, b[i, ])
}
}
}
bid_ids <- levels(factor(bidline$bid_id))
offer <- NULL
inc <- NULL
for (id in bid_ids) {
b <- subset(bidline, bid_id == id)
for (i in 1:nrow(b)) {
if (tolower(b[i, ]$offer_type) == "inc" ) {
inc <- append_row(inc, b[i, ])
} else if (tolower(b[i, ]$offer_type) == "offer") {
offer <- append_row(offer, b[i, ])
}
}
}
offer
inc
inc <- subset(bidline, offer_type == "inc")
offer <- subset(bidline, offer_type == "offer")
lines_merged <- merge(offer, inc, by =c("bid_id", "item_num"))
lines_merged <- merge(offer, inc[, c("ndc", "vendor", "award", "indirect_cost", "contract_cost", "localdn_cost", "allindn_cost")], by =c("bid_id", "item_num"))
inc[, c("ndc", "vendor", "award", "indirect_cost", "contract_cost", "localdn_cost", "allindn_cost")]
inc[, c("ndc", "vendor", "award", "indirect_cost", "contract_cost", "locadn_cost", "allindn_cost")]
inc <- subset(bidline, offer_type == "inc")
inc[, c("ndc", "vendor", "award", "indirect_cost", "contract_cost", "locadn_cost", "allindn_cost")]
lines_merged <- merge(offer, inc[, c("ndc", "vendor", "award", "indirect_cost", "contract_cost", "locadn_cost", "allindn_cost")], by =c("bid_id", "item_num"))
lines_merged <- merge(offer, inc[, c("ndc", "vendor", "award", "indirect_cost", "contract_cost", "locadn_cost", "allindn_cost", "bid_id", "item_num")], by =c("bid_id", "item_num"))
View(bidlog)
View(lines_merged)
View(lines_merged)
View(lines_merged)
View(m)
View(r)
subset(bidline, offer_type == "offer")
inc <- subset(bidline, offer_type == "Inc")
offer <- subset(bidline, offer_type == "Offer")
lines_merged <- merge(offer, inc[, c("ndc", "vendor", "award", "indirect_cost", "contract_cost", "locadn_cost", "allindn_cost", "bid_id", "item_num")], by =c("bid_id", "item_num"))
View(lines_merged)
View(data)
award <- subset(bidline, award >= 0.75)
lines_awarded <- merge(lines_merged, award, by =c("bid_id", "item_num"))
lines_awarded <- merge(lines_merged, award[, c("ndc", "vendor", "award", "indirect_cost", "contract_cost", "locadn_cost", "allindn_cost", "bid_id", "item_num")], by =c("bid_id", "item_num"))
View(bidlog)
View(lines_awarded)
subset(lines_awarded, award == 0 & locadn < x.allin_cost)
subset(lines_awarded, award == 0 & locadn_cost < x.allin_cost)
subset(lines_awarded, award == 0 & locadn_cost < allin_cost.x)
subset(lines_awarded, award == 0 & locadn_cost < allidn_cost.x)
subset(lines_awarded, award == 0 & locadn_cost < x.allidn_cost)
subset(lines_awarded, award == 0 & locadn_cost < allindn_cost.x)
subset(lines_awarded, award.x == 0 & locadn_cost < allindn_cost.x)
analysis <- subset(lines_awarded, award.x == 0 & locadn_cost < allindn_cost.x)
head(analyis, 1)
head(analysis, 1)
analysis <- subset(lines_awarded, award.x == 0 & allindn_cost > allindn_cost.x)
analysis
analysis$bid_id
levels(factor(analysis$bid_id))
View(bidline)
sapply (analysis, function(x) {
diff <-  x$allindn_cost -  x$allindn_cost.x #awarded cost - lowest offer cost
value <- x$annual_qty * diff
cbind(x, diff, value)
})
diff <-  analysis$allindn_cost -  analysis$allindn_cost.x
value <- x$annual_qty * diff
consolidated <- cbind(analysis, diff, value)
value
value <- analysis$annual_qty * diff
consolidated <- cbind(analysis, diff, value)
head(consolidated[order(consolidated, value),], 1)
consolidated[order(consolidated, value),]
consolidated
head(consolidated[order(consolidated, consolidated$value),], 1)
length(consolidated)
length(value)
length(diff)
length(value)
length(analysis)
analysis <- subset(lines_awarded, award.x == 0 & allindn_cost > allindn_cost.x)
length(analysis)
diff <-  analysis$allindn_cost -  analysis$allindn_cost.x
length(diff)
analysis <- subset(lines_awarded, award.x == 0 & allindn_cost > allindn_cost.x)
lines_awarded <- merge(lines_merged, award[, c("ndc", "vendor", "award", "indirect_cost", "contract_cost", "locadn_cost", "allindn_cost", "bid_id", "item_num")], by =c("bid_id", "item_num"))
analysis <- subset(lines_awarded, award.x == 0 & allindn_cost > allindn_cost.x)
length(analysis)
analysis <- subset(lines_awarded, award.x == 0 & allindn_cost > allindn_cost.x)
analysis$allindn_cost -  analysis$allindn_cost.x
analysis$allindn_cost
analysis
analysis
length(analysis)
consolidated <- cbind(analysis, as.data.frame(diff),as.data.frame(value))
consolidated
head(consolidated[order(consolidated, consolidated$value),], 1)
length(diff)
length(value)
length(analysis)
head(consolidated[order(consolidated,value),], 1)
head(consolidated[order(value),], 1)
head(consolidated[order(value),"value"], 1)
head(consolidated[order(value, descresing = TRUE),"value"], 1)
head(consolidated[order(value, descending = TRUE),"value"], 1)
head(consolidated[order(-value),"value"], 1)
head(consolidated[order(-value),"value"], "bid_id")
head(consolidated[order(-value),"bid_id"], 1)
consolidated
View(consolidated)
reset_par()
library(lattice)
xyplot(award_localdn_var  ~ count_processing_days  | member, data = data, layout = c(2, 1))
xyplot(award_localdn_var  ~ count_processing_days  | member * reason, data = data, layout = c(2, 1))
xyplot(localdn_savings_rate  ~ count_processing_days  | member * reason, data = data, layout = c(2, 1))
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason), data = data, layout = c(2, 1))
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason), data = data, layout = c(4, 4))
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason), data = data, layout = c(2, 4), ylim = c(0, 1))
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason)
, data = data,layout = c(2, 2), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.xyplot (h = median(y), lty =2)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason)
, data = data,layout = c(2, 2), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
#panel.xyplot (h = median(y), lty =2)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason)
, data = data,layout = c(2, 2), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.xyplot (h = median(y), lty =2)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason)
, data = data,layout = c(2, 2), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason)
, data = bidlog[bidlog$reason = "MINIBID" & bidlog$open_date_cy > 2014],layout = c(2, 2), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason)
, data = bidlog[bidlog$reason = "MINIBID" & bidlog$open_date_cy > 2014, ],layout = c(2, 2), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason)
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014, ],layout = c(2, 2), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014, ],layout = c(2, 2), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014, ],layout = c(2, 2), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(x), lty =2)
panel.abline (h = mean(x), lty =1)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014, ],layout = c(2, 2), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
panel.abline (h = mean(y), lty =1)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014, ],layout = c(2, 2), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
panel.abline (h = mean(y), lty =1)
panel.lmline (x, y, col = 2, lty =1)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014 & count_processing_days <51, ],layout = c(2, 2), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
panel.abline (h = mean(y), lty =1)
panel.lmline (x, y, col = 2, lty =1)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014 & bidlog$count_processing_days <51, ],layout = c(2, 2), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
panel.abline (h = mean(y), lty =1)
panel.lmline (x, y, col = 2, lty =1)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014 & bidlog$count_processing_days <51, ],layout = c(2, 3), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
panel.abline (h = mean(y), lty =1)
panel.lmline (x, y, col = 2, lty =1)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014 & bidlog$count_processing_days <51, ],layout = c(2, 3), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
panel.abline (h = mean(y), lty =1)
panel.lmline (x, y, col = 2, lty =1)
panel.abline ( h= 30, lty =1)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014 & bidlog$count_processing_days <51, ],layout = c(2, 3), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
panel.abline (h = mean(y), lty =1)
panel.lmline (x, y, col = 2, lty =1)
panel.abline (v= 30, lty =1)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014 & bidlog$count_processing_days <51, ],layout = c(2, 3), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
panel.abline (h = mean(y), lty =1)
panel.lmline (x, y, col = 2, lty =1)
panel.abline (v= 21, lty =1)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014 & bidlog$count_processing_days <51, ],layout = c(2, 3), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
#panel.abline (h = median(y), lty =2)
panel.abline (h = mean(y), lty =1)
panel.lmline (x, y, col = 2, lty =1)
panel.abline (v= 25, lty =1)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014 & bidlog$count_processing_days <51, ],layout = c(2, 3), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
#panel.abline (h = mean(y), lty =1)
panel.lmline (x, y, col = 2, lty =1)
panel.abline (v= 25, lty =1)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, xlabel = "Count of bid processing days"
, ylabel = "Percentage of discount"
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014 & bidlog$count_processing_days <51, ],layout = c(2, 3), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
#panel.abline (h = mean(y), lty =1)
panel.lmline (x, y, col = 2, lty =1)
panel.abline (v= 25, lty =1)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, xlabel = "Count of bid processing days"
, ylabel = "Percentage of discount"
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014 & bidlog$count_processing_days <51, ],layout = c(2, 3), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
#panel.abline (h = mean(y), lty =1)
panel.lmline (x, y, col = 2, lty =1)
panel.abline (v= median(x), lty =1)
})
library(ggplot2)
str(mpg)
qplot (displ, hwy, data = mpg)
qplot(localdn_savings_rate, count_processing_days, data = bidlog, color = reason)
qplot(localdn_savings_rate, count_processing_days, data = bidlog[bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0], color = reason)
qplot(localdn_savings_rate, count_processing_days, data = bidlog[bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,], color = reason)
qplot(localdn_savings_rate, count_processing_days, data = bidlog[bidlog$reason == "MINIBID", bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,], color = member)
qplot(localdn_savings_rate, count_processing_days, data = bidlog[bidlog$reason == "MINIBID" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,], color = member)
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,], color = member)
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,]
, geom = c("point", "smooth")
, color = member)
qplot(localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,]
, fill = member)
qplot(count_processing_days, data = bidlog[bidlog$reason == "MINIBID" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,]
, fill = member)
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,]
, geom = c("point", "smooth")
, facets = open_date_cy~ member)
str(maacs)
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "COMPETTIIVE" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,]
, geom = c("point", "smooth")
, facets = open_date_cy~ member)
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "COMPETTIIVE" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,]
, geom = c("point", "smooth")
, facets = open_date_cy ~ member)
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "COMPETTIIVE" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,]
, geom = c("point", "smooth")
, facets = open_date_cy ~ .)
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "COMPETITIVE" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,]
, geom = c("point", "smooth")
, facets = open_date_cy ~ member)
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,]
, geom = c("point", "smooth")
, facets = open_date_cy~ member)
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, xlabel = "Count of bid processing days"
, ylabel = "Percentage of discount"
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014 & bidlog$count_processing_days <51, ],layout = c(2, 3), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
#panel.abline (h = mean(y), lty =1)
panel.lmline (x, y, col = 2, lty =1)
panel.abline (v= median(x), lty =1)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, xlabel = "Count of bid processing days"
, ylabel = "Percentage of discount"
, data = bidlog[bidlog$reason == "COMPETITIVE" & bidlog$open_date_cy > 2014 & bidlog$count_processing_days <51, ],layout = c(2, 3), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
#panel.abline (h = mean(y), lty =1)
panel.lmline (x, y, col = 2, lty =1)
panel.abline (v= median(x), lty =1)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, xlabel = "Count of bid processing days"
, ylabel = "Percentage of discount"
, data = bidlog[bidlog$reason == "COMPETITIVE" & bidlog$open_date_cy > 2014 & bidlog$count_processing_days <51, ],layout = c(1, 3), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
#panel.abline (h = mean(y), lty =1)
panel.lmline (x, y, col = 2, lty =1)
panel.abline (v= median(x), lty =1)
})
xyplot(localdn_savings_rate  ~ count_processing_days  | factor(member) * factor(reason) * factor(open_date_cy)
, xlabel = "Count of bid processing days"
, ylabel = "Percentage of discount"
, data = bidlog[bidlog$reason == "MINIBID" & bidlog$open_date_cy > 2014 & bidlog$count_processing_days <51, ],layout = c(2, 3), ylim = c(0, 1), panel =function(x, y, ...) {
panel.xyplot (x, y, ...)
panel.abline (h = median(y), lty =2)
#panel.abline (h = mean(y), lty =1)
panel.lmline (x, y, col = 2, lty =1)
panel.abline (v= median(x), lty =1)
})
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,]
, geom = c("point", "smooth")
, facets = open_date_cy~ member)
qplot(count_processing_days, data = bidlog[bidlog$reason == "MINIBID" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,]
, fill = member)
qplot(localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,]
, geom = "density"
, fill = member)
qplot(count_processing_days, data = bidlog[bidlog$reason == "MINIBID" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,]
, color = member)
qplot(localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID" & bidlog$count_processing_days <51 & bidlog$localdn_savings_rate < 1 & bidlog$localdn_savings_rate > 0,]
, geom = "density"
, color = member)
consolidated[, c("bid_id", "award.x")]
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "COMPETITIVE")
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "COMPETITIVE",])
library(ggplot2)
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "COMPETITIVE",])
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID",])
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID",], shape = "member")
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID",], shape = member)
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID",], color = member)
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID",]
, color = member, facets = .~member) + geom_smooth(methond = "lm")
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID",]
, color = member, facets = .~member) + geom_smooth(method = "lm")
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID",]
, color = member, facets = .~member) + geom_smooth(method = "loes")
qplot(count_processing_days, localdn_savings_rate, data = bidlog[bidlog$reason == "MINIBID",]
, color = member, facets = .~member) + geom_smooth(method = "loess")
g <- ggplot(bidlog, aes(contract_savings_rate, localdn_savings_rate))
g + geom_point()
g + geom_point() + geom_smooth()
g + geom_point() + geom_smooth() + facet_grid(.~reason)
g <- ggplot(bidlog, aes(contract_savings_rate, localdn_savings_rate), xlim = c(0,1))
g + geom_point() + geom_smooth() + facet_grid(.~reason)
g <- ggplot(bidlog, aes(contract_savings_rate, localdn_savings_rate))
g + geom_point(xlim = c(0,1)) + geom_smooth() + facet_grid(.~reason)
g + geom_point(xlim = c(0,1)) + geom_smooth() + facet_grid(.~reason) + coord_cartesian(xlim = c(0, 1))
g + geom_point(xlim = c(0,1)) + geom_smooth() + facet_grid(reason~.) + coord_cartesian(xlim = c(0, 1))
g + geom_point(color = "steelblue", size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(xlim = c(0, 1))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(xlim = c(0, 1))
g <- ggplot(bidlog, aes(count_processing_days,localdn_savings_rate))
g + geom_point(color = "steelblue", size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(xlim = c(0, 1))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(xlim = c(0, 1))
g <- ggplot(bidlog, aes(count_processing_days,localdn_savings_rate))
g + geom_point(color = "steelblue", size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g <- ggplot(bidlog, aes(count_processing_days,localdn_savings_rate))
g + geom_point(color = "steelblue", size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth()
+ labs(title = "Processing days vs savings")
+ labs(y = expression("Local" * ["DNAC"]), x = "Count processing days")
+ facet_grid(member~.)
+ coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g <- ggplot(bidlog, aes(count_processing_days,localdn_savings_rate))
g + geom_point(color = "steelblue", size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth()
+ labs(title = "Processing days vs savings")
+ labs(y = expression("Local DNAC", x = "Count processing days")
+ facet_grid(member~.)
+ coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
)
g <- ggplot(bidlog, aes(count_processing_days,localdn_savings_rate))
g + geom_point(color = "steelblue", size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth()
+ labs(title = "Processing days vs savings")  + labs(y = "Local DNAC", x = "Count processing days")
+ facet_grid(member~.)
+ coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth()
+ labs(title = "Processing days vs savings")  + labs(y = "Local DNAC", x = "Count processing days")
+ facet_grid(member~.)
+ coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
+ coord_cartesian(ylim = c(0, 1))
+ coord_cartesian(ylim = c(0, 1))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth()
+ labs(title = "Processing days vs savings")  + labs(y = "Local DNAC", x = "Count processing days")
+ facet_grid(member~.)
g <- ggplot(bidlog, aes(count_processing_days,localdn_savings_rate))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth()
+ labs(title = "Processing days vs savings")  + labs(y = "Local DNAC", x = "Count processing days")
+ facet_grid(member~.)
+ coord_cartesian(ylim = c(0, 1))
g + geom_point(aes(color = reason), size = 4, alpha =1/2)
+ geom_smooth()
geom_smooth()
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth()
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth() + labs(title = "Processing days vs savings") + labs(y = "Local DNAC", x = "Count processing days")  + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth() + labs(title = "Processing days vs savings") + labs(y = "Local DNAC", x = "Count processing days")  + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim = c(0,60))
g <- ggplot(bidlog, aes(count_processing_days))
#g + geom_point(color = "steelblue", size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth() + labs(title = "Processing days vs savings") + labs(y = "Local DNAC", x = "Count processing days")  + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim = c(0,60))
g <- ggplot(bidlog, aes(count_processing_days))
#g + geom_point(color = "steelblue", size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + labs(title = "Processing days vs savings") + labs(y = "Local DNAC", x = "Count processing days")  + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim = c(0,60))
g <- ggplot(bidlog, aes(count_processing_days))
#g + geom_point(color = "steelblue", size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g + geom_fill(aes(color = reason), size = 4, alpha =1/2) + labs(title = "Processing days vs savings") + labs(y = "Local DNAC", x = "Count processing days")  + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim = c(0,60))
g <- ggplot(bidlog, aes(count_processing_days))
#g + geom_point(color = "steelblue", size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g + geom_histogram(aes(color = reason), size = 4, alpha =1/2) + labs(title = "Processing days vs savings") + labs(y = "Local DNAC", x = "Count processing days")  + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim = c(0,60))
g <- ggplot(bidlog, aes(count_processing_days,localdn_savings_rate))
#g + geom_point(color = "steelblue", size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth() + labs(title = "Processing days vs savings") + labs(y = "Local DNAC", x = "Count processing days")  + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim = c(0,60))
g <- ggplot(bidlog, aes(num_players_over_5perc,localdn_savings_rate))
#g + geom_point(color = "steelblue", size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth() + labs(title = "Processing days vs savings") + labs(y = "Local DNAC", x = "Count processing days")  + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim = c(0,60))
g <- ggplot(bidlog, aes(num_players_over_5perc,localdn_savings_rate))
#g + geom_point(color = "steelblue", size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth() + labs(title = "Processing days vs savings") + labs(y = "Local DNAC", x = "Count processing days")  + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim = c(0,10))
g <- ggplot(bidlog, aes(factor(num_players_over_5perc),localdn_savings_rate))
#g + geom_point(color = "steelblue", size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth() + labs(title = "Processing days vs savings") + labs(y = "Local DNAC", x = "Count processing days")  + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim = c(0,10))
g <- ggplot(bidlog[bidlog$reason == "MINIBID",], aes(factor(num_players_over_5perc),localdn_savings_rate))
#g + geom_point(color = "steelblue", size = 4, alpha =1/2) + geom_smooth() + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim =c(0,50))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth() + labs(title = "Processing days vs savings") + labs(y = "Local DNAC", x = "Count processing days")  + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim = c(0,10))
g + geom_point(aes(color = reason), size = 4, alpha =1/2) + geom_smooth() + labs(title = "Processing days vs savings") + labs(y = "Local DNAC", x = "Count processing days")  + facet_grid(member~.) + coord_cartesian(ylim = c(0, 1), xlim = c(0,10)) + theme_bw(base_family = "Times")
cutpoint <- quantile(bidlog$localdn_savings_rate, seq(0,1, length = 4), na.rm = TRUE)
bidlog$f_savings <- cut(bidlog$localdn_savings_rate, cutpoints)
bidlog$f_savings <- cut(bidlog$localdn_savings_rate, cutpoint)
levels(bidlog$f_savings)
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
library(datasets)
data(airquality)
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
qplot(votes, rating, data = movies, smooth = "loess")
library(ggplot2)
str(mpg)
qplot (displ, hwy, data = mpg)
qplot (displ, hwy, data = mpg, smooth = "loess")
qplot (displ, hwy, data = mpg, stats_smooth = "loess")
qplot (displ, hwy, data = mpg) + geom_smooth("loess")
qplot (displ, hwy, data = mpg, panel = panel.loess)
qplot (displ, hwy, data = mpg) + stat_smooth("loess")
qplot (displ, hwy, data = mpg, smooth("loess"))
qplot (displ, hwy, data = mpg, smooth = "loess")
qplot (displ, hwy, data = mpg) + geom_smooth()
